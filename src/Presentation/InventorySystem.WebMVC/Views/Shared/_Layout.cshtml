<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/creative-tim/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="~/creative-tim/assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        @ViewData["Title"] - Inventory System
    </title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Cairo&amp;subset=arabic" rel="stylesheet">
    <!-- CSS Files -->
    <link href="~/creative-tim/assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
    <link href="~/creative-tim/assets/css/material-dashboard-rtl.css?v=1.1" rel="stylesheet" />

    <!-- CSS for paged list  -->
    <link href="~/css/PagedList.css" rel="stylesheet" />

    <link href="~/lib/select2/css/select2.min.css" rel="stylesheet" />
    <!-- select2-bootstrap4-theme -->
    <link href="https://raw.githack.com/ttskch/select2-bootstrap4-theme/master/dist/select2-bootstrap4.css" rel="stylesheet">

    <style>
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .h1,
        .h2,
        .h3,
        .h4 {
            font-family: "Cairo";
        }

        .caret {
            float: left;
            margin: 6px 0;
        }
    </style>
</head>

<body class="">
    <div class="wrapper ">
        @if (User.Identity.IsAuthenticated)
        {
            <div class="sidebar" data-color="purple" data-background-color="white" data-image="~/creative-tim/assets/img/sidebar-3.jpg">
                <!--
                    Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

                    Tip 2: you can also add an image using data-image tag
                -->
                <div class="logo">
                    <a href="#" class="simple-text logo-normal">
                        Inventory System
                    </a>
                </div>
                <div class="sidebar-wrapper">
                    <ul class="nav">
                        <li class="nav-item @(ViewBag.Current == "Dashboard" ? "active" : "")">
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">
                                <i class="material-icons">dashboard</i>
                                <p>الصفحة الرئيسية</p>
                            </a>
                        </li>
                        <li class="nav-item @(ViewBag.Current == "Users" ? "active" : "")">
                            <a class="nav-link" asp-area="" asp-controller="Users" asp-action="Index">
                                <i class="material-icons">supervised_user_circle</i>
                                <p>المستخدمين</p>
                            </a>
                        </li>
                        <li class="nav-item @(ViewBag.Current == "Warehouses" ? "active" : "")">
                            <a class="nav-link" asp-area="" asp-controller="Warehouses" asp-action="Index">
                                <i class="material-icons">warehouse</i>
                                <p>المخازن</p>
                            </a>
                        </li>
                        <li class="nav-item @(ViewBag.Current == "Products" ? "active" : "")">
                            <a class="nav-link" asp-area="" asp-controller="Products" asp-action="Index">
                                <i class="material-icons">widgets</i>
                                <p>المواد</p>
                            </a>
                        </li>
                        <li class="nav-item @(ViewBag.Current == "IncomingInvoices" ? "active" : "")">
                            <a data-toggle="collapse" href="#incomingPage" class="nav-link collapsed" aria-expanded="false">
                                <div class="row">

                                    <div class="col-8">
                                        <i class="material-icons">move_to_inbox</i>

                                        <p>
                                            طلبات الأدخال
                                        </p>
                                    </div>
                                    <div class="col-4">
                                        <b class="caret"></b>
                                    </div>
                                </div>
                            </a>
                            <div class="collapse" id="incomingPage" aria-expanded="false" style="height: 0px;">
                                <ul class="nav">
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="Invoices" asp-controller="Incoming" asp-action="Index">
                                            <i class="material-icons">receipt</i>
                                            <p>وصولات</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="DirectEntries" asp-controller="Incoming" asp-action="Index">
                                            <i class="material-icons">input</i>
                                            <p>الأدخال مباشر</p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item @(ViewBag.Current == "OutgoingInvoices" ? "active" : "")">
                            <a data-toggle="collapse" href="#outgoingPage" class="nav-link collapsed" aria-expanded="false">
                                <div class="row">

                                    <div class="col-8">
                                        <i class="material-icons">outbox</i>

                                        <p>
                                            طلبات الأخراج
                                        </p>
                                    </div>
                                    <div class="col-4">
                                        <b class="caret"></b>
                                    </div>
                                </div>
                            </a>
                            <div class="collapse" id="outgoingPage" aria-expanded="false" style="height: 0px;">
                                <ul class="nav">
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="Invoices" asp-controller="Outgoing" asp-action="Index">
                                            <i class="material-icons">receipt</i>
                                            <p>وصولات</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="DirectEntries" asp-controller="Outgoing" asp-action="Index">
                                            <i class="material-icons">output</i>
                                            <p>الأخراج مباشر</p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        }

        <div class="main-panel">
            <!-- Navbar -->
            @if (User.Identity.IsAuthenticated)
            {
                <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top">
                    <div class="container-fluid">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                            <span class="navbar-toggler-icon icon-bar"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link" href="#pablo">
                                        <i class="material-icons">dashboard</i>
                                        <p class="d-lg-none d-md-block">
                                            Stats
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="#pablo" id="navbarDropdownMenuLink"
                                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">person</i>
                                        <p class="d-lg-none d-md-block">
                                            Account
                                        </p>
                                    </a>
                                    <form asp-controller="Home" asp-action="Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
                                      method="post" id="logoutForm">
                                        <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdownMenuLink">
                                            <a asp-area="Identity" asp-page="/Account/Manage/Index" class="dropdown-item">Profile</a>
                                            <button type="submit" class="btn btn-link dropdown-item">Logout</button>
                                        </div>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            }
            <!-- End Navbar -->
            <br />
            <br />
            <div class="container-fluid">
                <br />
                @RenderBody()
            </div>
            <footer class="footer">
                <div class="container-fluid">
                    <div class="copyright text-right">
                        &copy;
                        <script>
                            document.write(new Date().getFullYear())
                        </script>, Inventory System
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!--   Core JS Files   -->
    <script src="~/creative-tim/assets/js/core/jquery.min.js" type="text/javascript"></script>
    <script src="~/creative-tim/assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="~/creative-tim/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
    <script src="~/creative-tim/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>

    <!-- Plugin for the momentJs  -->
    <script src="~/creative-tim/assets/js/plugins/moment.min.js"></script>
    <!--  Plugin for Sweet Alert -->
    <script src="~/creative-tim/assets/js/plugins/sweetalert2.js"></script>
    <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
    <script src="~/creative-tim/assets/js/plugins/bootstrap-datetimepicker.min.js"></script>
    <!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
    <script src="~/creative-tim/assets/js/plugins/jquery.dataTables.min.js"></script>
    <!-- Chartist JS -->
    <script src="~/creative-tim/assets/js/plugins/chartist.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="~/creative-tim/assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="~/creative-tim/assets/js/material-dashboard.js?v=2.1.0" type="text/javascript"></script>

    <script>
        $(document).ready(function () {
            // Javascript method's body can be found in assets/js/demos.js
            md.initDashboardPageCharts();
            md.initFormExtendedDatetimepickers();

            $('.form-file-simple .inputFileVisible').click(function () {
                $(this).siblings('.inputFileHidden').trigger('click');
            });

            $('.form-file-simple .inputFileHidden').change(function () {
                var filename = $(this).val().replace(/C:\\fakepath\\/i, '');
                $(this).siblings('.inputFileVisible').val(filename);
            });

            $('.form-file-multiple .inputFileVisible, .form-file-multiple .input-group-btn').click(function () {
                $(this).parent().parent().find('.inputFileHidden').trigger('click');
                $(this).parent().parent().addClass('is-focused');
            });

            $('.form-file-multiple .inputFileHidden').change(function () {
                var names = '';
                for (var i = 0; i < $(this).get(0).files.length; ++i) {
                    if (i < $(this).get(0).files.length - 1) {
                        names += $(this).get(0).files.item(i).name + ',';
                    } else {
                        names += $(this).get(0).files.item(i).name;
                    }
                }
                $(this).siblings('.input-group').find('.inputFileVisible').val(names);
            });

            $('.form-file-multiple .btn').on('focus', function () {
                $(this).parent().siblings().trigger('focus');
            });

            $('.form-file-multiple .btn').on('focusout', function () {
                $(this).parent().siblings().trigger('focusout');
            });
        });
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
